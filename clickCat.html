<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Cat</title>
</head>

<body>
   <h1 id='cat'> =('.')= </h1>
</body>
<script src='https://code.jquery.com/jquery-2.1.0.js'></script>
<script>

var leftOffset=900;
var topOffset=450;
var pixel=[-150,-130,-100,-80,-60,-40,-20,0,20,40,60,80,100,130,150];
var miliseconds =20;
var colour=0.2;


$('#cat').offset({
left: leftOffset,
top: topOffset
});

$('#cat').fadeTo (1,colour);

function speedAndVictory (event){
    miliseconds-=5;
    colour+=0.2;
    if (miliseconds<=0){

        clearInterval(intervalId);

        $("#cat").offset({
        left:900,
        top: 450
        });

        for(var i=0;i<100;i++){      
        $('#cat').text('Ти зловив котика!').delay(2000).text('Ура!!!');
        };
    };
};
$('#cat').click (speedAndVictory);


function moveCat () {
    var step= pixel[Math.floor(Math.random()*pixel.length)];
var direction=intervalId % 2;
console.log(direction);
console.log(step);
if (direction==1){
    if(step>0){
        leftOffset++;
    }else if(step<0){
        leftOffset--;
    }else{
        leftOffset+=0;
    };

}else{
    if(step>0){
        topOffset++;
    }else if(step<0){
        topOffset--;
    }else{
        topOffset+=0;
    };
};
};

var intervalId=setInterval(moveCat,miliseconds)


if (topOffset<=20 && leftOffset<=20 && topOffset>=850 && leftOffset>=1800) {
    clearInterval(intervalId);
    $("#cat").offset({
        left:900,
        top: 450
    });
    $('#cat').text('ти програв!').delay(2000).text('котик втік!');
};

</script>

</html>