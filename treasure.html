<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Знайди скарб!</title>
</head>

<body>
    <h1 id='heading'> Знайди скарб </h1>
    
    <h3 id='click'> Кількість спроб - 0</h3>
    <h2 id='distance'> Провір свою інтуіцію) клікни на карту та спробуй знайти скарб!</h2>
    <img id='map' width="500" height="500"
    src='map2.jpg'
    <img id='treasure' width="40" height="40"
    src='treasure.jpg'
    <h1></h1>
    
    
</body>
<script src='https://code.jquery.com/jquery-2.1.0.js'></script>
<script>

var width=500;
var height=500;
var clicks=0;
var end = false; 
$('#treasure').fadeOut(1);

function getRandomNumber (size) { //            рандомне число
var number = Math.floor(Math.random() * size);
    return number;
    console.log(number);
} ;



function getDistance (event,target){     // теорема піфагора , визначення відстані 
    var diffX= event.offsetX - target.x;
    var diffY= event.offsetY - target.y;
    return Math.sqrt((diffX*diffX)+(diffY*diffY));
};


function getDistanceHint(distance) {
    if (distance<20) {
        return 'Обпечешся!';
    }else if (distance<40){
        return 'дуже гаряче!'
    }else if (distance<70){
        return 'гаряче!'
    }else if (distance<100){
        return 'холодно!'
    }else if (distance<250){
        return 'дуже холодно!'
    }else if (distance>250) {
        return 'замерзнеш!'
    }else {
        return 'помилка'
    }
};



var target = {//                             випадкова позиція скарбу
    x:(getRandomNumber(width)),
    y:(getRandomNumber(height))
};

$('#treasure').offset({
    left: target.x,
    top : target.y
})

$('#map').click(function(event){
    if (end == false) {
clicks++;
$('#click').text('Кількість спроб - '+ clicks + '!');

var distance =getDistance(event,target);// відстань від місця кліку до скарбу
console.log(distance);
var distanceHint=getDistanceHint(distance);//  підсказка холодно чи гаряче
console.log(distanceHint);
$('#distance').text(distanceHint);

if (distance<15) {//                             кінець гри . виграш
$('#distance').text ('Ти знайшок скарб!Ура');
$('#treasure').fadeIn(1);
end=true;
};
    };
});






</script>

</html>